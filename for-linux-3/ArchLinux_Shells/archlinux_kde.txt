KDE (Русский)
Ссылки по теме
* Среда рабочего стола
* Экранный менеджер
* Оконный менеджер
* Plasma
* Qt (Русский)
* KDM (Русский)
* KDevelop 4
* Uniform Look for Qt and GTK Applications (Русский)
Эта статья или раздел нуждается в переводе
Примечания: В английской версии накопилось много изменений (обсуждение: Talk:KDE (Русский)#)
Эта страница нуждается в сопроводителе
Статья не гарантирует актуальность информации. Помогите русскоязычному сообществу поддержкой подобных страниц. См. Команда переводчиков ArchWiki
KDE Software Compilation — набор фреймворков, рабочих окружений и приложений, разработанных KDE для того, чтобы создать красивую, функциональную и свободную графическую среду рабочего стола для Linux и других операционных систем. Он состоит из большого количества отдельных приложений и рабочего стола в качестве оболочки для запуска этих приложений.
KDE имеет активно поддерживаемый вики-ресурс UserBase. Здесь пользователи могут получить наиболее актуальную и подробную информацию о большинстве приложений KDE.
Contents
 [hide] 
* 1Установка
o 1.1Plasma 5
o 1.2Приложения KDE и языковые пакеты
o 1.3Обновление KDE4 до Plasma 5
* 2Запуск Plasma
* 3Настройка
o 3.1Персонализация
* 3.1.1Plasma desktop
* 3.1.1.1Themes
* 3.1.1.1.1Внешний вид Qt и GTK+
* 3.1.2Рабочий стол Plasma
* 3.1.2.1Темы
* 3.1.2.2Виджеты
* 3.1.2.3Значки системного трея
* 3.1.2.4Звуковой апплет в системном трее
* 3.1.2.5Главное меню на рабочем столе
* 3.1.3Декорации окон
* 3.1.4Темы значков
* 3.1.5Шрифты
* 3.1.5.1Шрифты в KDE выглядят плохо
* 3.1.5.2Огромные или непропорциональные буквы
* 3.1.6Экономия места на экране
o 3.2Сеть
o 3.3Печать
o 3.4Поддержка Samba/Windows
o 3.5Комнаты KDE
o 3.6Снижение энергопотребления
o 3.7Отслеживание изменений локальных файлов и каталогов
* 4Системное администрирование
o 4.1Настройка клавиатуры
o 4.2Сочетание клавиш для остановки сервера X
o 4.3KCM
o 4.4Автоматический вход в систему
* 5Быстрый поиск и семантический рабочий стол
o 5.1Baloo
* 5.1.1Настройка и использование Baloo
* 5.1.2Как проиндексировать съемное устройство?
o 5.2Akonadi
* 5.2.1Выключение Akonadi
* 5.2.2Настройка базы данных
* 5.2.3Использование KDE без Akonadi
* 6Phonon
o 6.1Какой бекэнд использовать?
* 7Полезные приложения
o 7.1Yakuake
o 7.2KDE Telepathy
* 8Советы и рекомендации
o 8.1Использование альтернативного оконного менеджера с KDE
* 8.1.1Сеанс KDE/Openbox
* 8.1.2Compiz custom
* 8.1.3Включение композитных эффектов
o 8.2Интеграция Android в рабочий стол KDE
o 8.3Получение уведомлений о выходе обновлений ПО
o 8.4Настройка KWin для использования OpenGL ES
o 8.5Отображение миниатюр для аудио- и видеофайлов в Konqueror/Dolphin
o 8.6Ускорение запуска приложений
o 8.7Скрытие разделов
o 8.8Konqueror
* 8.8.1Отключение Access Keys
* 8.8.2Использование WebKit
o 8.9Интеграция Firefox в KDE
o 8.10Установка фона для экрана блокировки
o 8.11Еще один способ установки фона для экрана блокировки
o 8.12Изменение фона экрана приветствия при запуске (Plasma 5)
* 9Решение проблем
o 9.1Отсутствие иконок в трее (KDE5)
o 9.2Проблемы с настройками
* 9.2.1Полный сброс настроек KDE
* 9.2.2Странное поведение рабочего стола Plasma
* 9.2.3Очистка кэша для решения проблем с обновлением
o 9.3Сброс настроек Akonadi для решения проблем с KMail
o 9.4Текущее состояние KWin для поддержки и отладки
o 9.5KDE4 зависает на этапе загрузки
o 9.6Программы KDE выглядят плохо в другом оконном менеджере
o 9.7Проблемы с графикой
* 9.7.1Низкая производительность или артефакты изображения в режиме 2D
* 9.7.1.1Проблема с драйвером видеокарты
* 9.7.1.2Использование альтернативного рендера
* 9.7.2Низкая производительность в режиме 3D
* 9.7.3Композитные эффекты не работают с современной видеокартой Nvidia
* 9.7.4Мерцание окон в полноэкранном режиме при включенном композитном режиме
* 9.7.5Screen tearing при включенном композитном режиме
* 9.7.6Параметры экрана сбрасываются при перезагрузке (несколько мониторов)
o 9.8Проблемы со звуком в KDE
* 9.8.1ALSA related problems
* 9.8.1.1Сообщения "Falling back to default" при попытке воcпроизвести любой звук
* 9.8.1.2MP3-файлы не воспроизводятся с бэкендом GStreamer
o 9.9Konsole не сохраняет историю команд
o 9.10В поле ввода пароля отображается по три точки на символ
o 9.11Dolphin и File Dialogs очень долго запускаются
o 9.12Средство просмотра PDF по умолчанию для приложений GTK в KDE
* 10Нестабильные версии
* 11Другие проекты KDE
o 11.1Trinity
* 12Ошибки в программах
* 13Смотрите также
Установка
Перед тем, как устанавливать KDE, убедитесь, что в вашей системе установлен и настроен сервер X.
Plasma 5
Примечание:
* Plasma 5 нельзя установить вместе со средой KDE 4
* KDE 4 Plasma с августа 2015 года не поддерживается [1]
Важно: Перед установкой Plasma удостоверьтесь, что в вашей системе установлен и успешно запускается Xorg
Установите мета-пакет plasma-meta или группу пакетов plasma. Для получения информации о различиях между ними смотрите статью KDE Packages (Русский).
Если вам нужна полностью голая Plasma, установите лишь пакет plasma-desktop.
Приложения KDE и языковые пакеты
Чтобы установить все приложения KDE, установите группу пакетов kde-applications или мета пакет kde-applications-meta для установки специфичных модулей. Заметьте что вы устанавливаете только приложения KDE.
Если вам нужно установить дополнительные языковые файлы, установите пакет kde-l10n-ваш язык (например kde-l10n-de для немецкого языка). Полный список доступных языков вы можете посмотреть на странице здесь.
Обновление KDE4 до Plasma 5
1. Выполните команду systemctl isolate multi-user.target от имени суперпользователя (текущие сессии пользователей при этом закроются)
2. Обновите (если их нет, они будут установлены) пакеты sddm и sddm-kcm, запустив от имени суперпользователя команду pacman -Su sddm sddm-kcm
3. Выключите службу kdm, а вместо нее включите sddm
4. Удалите пакет kdebase-workspaceAUR
5. Обновите пакет plasma-meta при помощи команды pacman -Su plasma-meta, запущенной от имени суперпользователя
6. Перезагрузите машину
7. На экране входа в систему вместо вместо Plasma Media Center выберите Plasma
Запуск Plasma
Tip:
* KDM (Русский) больше недоступен для Plasma 5. KDE upstream рекомендует использовать SDDM (Русский) так как он имеет интерграцию с темами Plasma 5.
* Plasma для большей интеграции с Plasma, мы рекомендуем отредактировать файл /etc/sddm.conf для использования темы Breeze. Ознакомтесь с SDDM (Русский)#Настройки темы с инструкцией.
Для запуска Plasma 5, выберите Plasma в меню вашего display manager (Русский).
Также если вы хотите запускать окружение через startx, добавьте exec startkde в ваш .xinitrc, который находится в основном в домашней директории. Если вы хотите чтобы Xorg при входе в систему, ознакомтесь с этим: xinitrc#Автозапуск X при входе в систему[broken link: invalid section].
Настройка
Большинство настроек KDE 4 находятся в каталоге ~/.kde4, если это не так, то в ~/.config is used. Вообще, большинство настроек делаются в приложении Настройка системы. Его можно запустить в терминале командой systemsettings.
Frameworks 5 могут использовать настройки от KDE 4, однако конфигурационные файлы могут находится в разных местах. Для того чтобы разрешить Frameworks 5 приложениям запускаться в KDE 4 используя нужные настройки их можно отправить в новое место и создать символьную ссылку на старое место. Например:
* Настройки konsole из ~/.kde4/share/apps/konsole в ~/.local/share/konsole/
* Настройки оформления приложений из ~/.kde4/share/config/kdeglobals в ~/.config/kdeglobals
Персонализация
Plasma desktop
Themes
Темы для Plasma используются для улучшения вида панелей и плазмоидов. Для большего удобства, многие темы есть в официальных репозиториях, а также AUR.
Самый легкий способ установить темы, это установка в Настройки рабочего стола themes is by going through the Desktop Settings control panel:
 Workspace Theme > Desktop Theme > Get new Themes
Многие дополнительные скрипты для плазмоидов можно установить на сайте kde-look.org.
Внешний вид Qt и GTK+
Tip: Для правильной работы тем на GTK и Qt, ознакомтесь с этим: Uniform look for Qt and GTK applications.
Qt4
Для приложений на Qt4, нужно установить breeze-kde4 и выбрать Breeze как GUI Стиль в qtconfig-qt4.
GTK+
Рекомендуемая тема для приложений на GTK+ это gtk-theme-orionAUR. Также посмотрите gnome-breeze-gitAUR, это GTK+ тема имитирующая дизайн Plasma 5 Breeze. После того, как вы установили тему, выберите ее System Settings > Application Style > GNOME Application Style. Если не хотите всдеть эти настройки, установите одну из настройщиков GTK+, например lxappearance для изменения дизайна.
Рабочий стол Plasma
Plasma берет на себя роль отображения рабочего стола, виджетов и панелей.
Темы
Темы Plasma можно установить в окне Desktop Settings. Темы Plasma определяют внешний вид панелей и плазмоидов. Для простой установки на уровне целой системы, некоторые такие темы доступны с пакетами в официальных репозиториях, а также в AUR.
Виджеты
Плазмоиды представляют собой небольшие приложения, предназначенные для расширения функциональности рабочего стола. Бинарные (скомпилированные) плазмоиды вы можете найти в AUR: https://aur.archlinux.org/packages.php?O=0&K=plasmoid&do_Search=Go&PP=25&SO=d&SB=v. Скриптовые плазмоиды можно установить гораздо проще, перейдя через контекстное меню панели в Add Widgets > Get new Widgets > Download Widgets. Здесь вы сможете просматривать и загружать любые виджеты, размещенные на kde-look.org, а также устанавливать, обновлять и удалять их.
Большинство плазмоидов созданы сторонними разработчиками. Вы также можете попробовать установить виджеты Mac OS X, Microsoft Windows Vista/7, Google Widgets и даже виджеты SuperKaramba.
Значки системного трея
Для настройки значков системного трея вам понадобится пакет sni-qt. Саму информацию о настройке вы сможете найти на странице http://blog.martin-graesslin.com/blog/2014/03/system-tray-in-plasma-next.
Звуковой апплет в системном трее
Установите Kmix (kdemultimedia-kmix[ссылка недействительна: replaced by kmix]) из официальных репозиториев и запустите его из меню запуска. Так как KDE, по умолчанию, автоматически запускает программы из предыдущего сеанса, нет необходимости запускать их вручную во время каждого входа.
Примечание: Чтобы настроить шаг регулировки звука, добавьте VolumePercentageStep=шаг в раздел [Global] файла ~/.kde4/share/config/kmixrc, установив желаемый шаг (целое число).
Главное меню на рабочем столе
Вы можете добавить на рабочий стол панель, которая будет отображать главное меню выбранного окна (наподобие панели в Mac OS X). Для этого установите пакеты appmenu-qtAUR[ссылка недействительна: replaced by appmenu-qt4], appmenu-gtkAUR[ссылка недействительна: сохранено в aur-mirror] и appmenu-qt5AUR[ссылка недействительна: сохранено в aur-mirror]. Чтобы Firefox и LibreOffice также начали использовать эту панель, установите firefox-extension-globalmenuAUR[ссылка недействительна: сохранено в aur-mirror] и libreoffice-extension-menubarAUR[ссылка недействительна: сохранено в aur-mirror] соответственно.
Примечание:
* Пакет appmenu-gtkAUR[ссылка недействительна: сохранено в aur-mirror] является осиротевшим, и Canonical прекратила его разработку в пользу unity-gtk-module, который зависит от Unity. На октябрь 2014 нет способа экспортировать меню gtk2,3 в KDE
* firefox-extension-globalmenuAUR[ссылка недействительна: сохранено в aur-mirror] устарел в Firefox версии 25, и на данный момент нет рекомендованного метода добавления поддержки панели главного меню для Firefox. Однако, есть пакет firefox-ubuntuAUR, который содержит патч от Canonical, добавляющий эту поддержку, которая пока еще работает (на ноябрь 2013)
Чтобы на самом деле добавить главное меню на рабочий стол, установите пакет kdeplasma-applets-menubarAUR[ссылка недействительна: сохранено в aur-mirror]. Создайте панель наверху экрана и добавьте на него апплет меню окна. Чтобы экспортировать меню программ на панель, зайдите в Настройки системы > Внешний вид приложений > Стиль. Перейдите на вкладку Тонкая настройка и выберите только экспорт из выпадающего списка Стиль менюбара.
Декорации окон
Декорации окон настраиваются в System Settings > Workspace Appearance > Window Decorations. Здесь вы также сможете загрузить и установить новые темы оформления, кроме того, некоторые из них доступны в AUR.
Темы значков
На панели System Settings > Application Appearance > Icons вы сможете выбрать тему значков, а также загрузить новые темы. Многие из них также доступны на kde-look.org.
Официальные логотипы, значки и прочие художества Arch Linux вы можете установить с пакетом archlinux-artworkAUR. Содержимое пакета устанавливается в /usr/share/archlinux/.
Шрифты
Шрифты в KDE выглядят плохо
Первым делом, попробуйте установить шрифты ttf-dejavu и ttf-liberation.
После установки перезайдите в систему. Не меняйте ничего в System Settings > Fonts.
Если вы вносили изменения в параметры отображения шрифтов, имейте в виду, что панель System Settings может сбить ваши установки (файл fonts.conf).
Огромные или непропорциональные буквы
Попробуйте установить DPI шрифта, равный 96 в System Settings > Application Appearance > Fonts.
Если это не помогло, попробуйте также установить DPI напрямую в X, как указано на странице Xorg#Setting DPI manually.
Экономия места на экране
Пользователи с маленькими экранами (например, нетбуков) могут сделать KDE несколько более экономным в плане экранного пространства. Смотрите страницу Using with small screens (eg Netbooks) для получения дополнительной информации. Также, вы можете использовать KDE's Plasma Netbook, рабочая среда которого специально сделана удобной для использования с нетбуков.
Сеть
Вы можете использовать следующие средства для настройки и подключению к сети:
* NetworkManager: смотрите NetworkManager#KDE[broken link: invalid section].
* Wicd: смотрите Wicd.
Печать
Совет: Используйте веб-интерфейс CUPS для более быстрой настройки. Принтеры, настроенные таким образом, могут быть использованы приложениями KDE.
Настройка принтеров в KDE осуществляется на панели System Settings > Printer Configuration. Для этого необходимо сначала установить kdeutils-print-manager[ссылка недействительна: package not found] и cups.
Демоны avahi-daemon и cupsd должны быть запущены; в противном случае, вы получите ошибку:
The service 'Printer Configuration' does not provide an interface 'KCModule'
with keyword 'system-config- printer-kde/system-config-printer-kde.py'
The factory does not support creating components of the specified type.
Если вы получаете ошибку
There was an error during CUPS operation: 'cups-authorization-canceled'
то вам необходимо дать текущему пользователю право управления принтерами. В случае CUPS, это можно сделать в файле /etc/cups/cups-files.conf.
Вы можете создать специальную группу lpadmin для пользователей, которые имеют право настройки принтеров. Добавьте группу в список SystemGroup в /etc/cups/cups-files.conf, и все пользователи в ней смогут настраивать принтеры. Не добавляйте группу lp этот список, иначе печать работать не будет.
# groupadd -g107 lpadmin
/etc/cups/cups-files.conf
# Administrator user group...
SystemGroup sys root lpadmin
Совет: Подробнее о настройке CUPS вы можете прочитать на странице CUPS (Русский)
Поддержка Samba/Windows
Если вы хотите получить доступ к службам Windows, установите Samba (доступна с пакетом samba).
Для обмена файлами Dolphin требует настроить Usershare path (общий каталог), который отсутствует в стандартном файле настроек (smb.conf). Инструкции по его добавлению приведены на странице Samba#Creating usershare path. После выполнения инструкций обмен файлами в Dolphin заработает "из коробки" (после перезапуска Samba).
Комнаты KDE
Комнаты (Desktop Activities) представляют собой некое развитие идеи виртуальных рабочих столов с более независимой и гибкой настройкой.
На вашем рабочем столе кликните на плазмоиде Cashew и выберите Activities. Панель выбора комнаты появится внизу экрана. Вы можете переключаться между ними нажимая на соответствующие значки.
Снижение энергопотребления
В KDE имеется встроенная служба оптимизации энергопотребления — "Powerdevil Power Management", которая может регулировать профиль энергопотребления системы и/или яркость экрана (если поддерживается).
Начиная с KDE 4.6, масштабирование частоты процессора больше не контролируется KDE. Предполагается, что она должна регулироваться автоматически оборудованием и/или ядром. Начиная с ядра Linux 3.3, Arch использует ondemand в качестве регулятора частоты по умолчанию, поэтому в большинстве случаев дополнительной настройки не требуется. Подробнее о настройке регулятора смотрите на странице Масштабирование частоты ЦПУ.
Отслеживание изменений локальных файлов и каталогов
С недавних пор KDE использует inotify напрямую из ядра с kdirwatch (включенного в состав kdelibs), поэтому Gamin и FAM больше не нужны. Вы можете установить графическую оболочку kdirwatch с пакетом kdirwatchAUR[ссылка недействительна: сохранено в aur-mirror].
Системное администрирование
Настройка клавиатуры
Перейдите в System Settings > Hardware > Input Devices > Keyboard. На первой вкладке вы можете выбрать модель клавиатуры.
На вкладке Layouts вы можете добавить раскладки для клавиатуры, нажав кнопку Add Layout.
На вкладке Advanced, в подменю Key(s) to change layout вы можете выбрать сочетание клавиш для смены раскладки клавиатуры.
Сочетание клавиш для остановки сервера X
Настройте Key Sequence to kill the X server в System Settings > Input Devices > Keyboard > Advanced.
KCM
Модули KCM (KDE Config Module) добавляют компоненты настройки системы на панель System Settings.
Настройка внешнего вида и поведения интерфейса приложений GTK.
* kde-gtk-config
* kcm-gtkAUR[ссылка недействительна: сохранено в aur-mirror]
* kcm-qt-graphicssystemAUR
Настройка загрузчика GRUB:
* grub2-editorAUR[ссылка недействительна: сохранено в aur-mirror]
Настройка тачпадов Synaptics:
* kcm-touchpad[ссылка недействительна: сохранено в aur-mirror]
* synaptiksAUR[ссылка недействительна: сохранено в aur-mirror]
* kcm_touchpadAUR[ссылка недействительна: сохранено в aur-mirror]
* kcm-touchpad-gitAUR[ссылка недействительна: сохранено в aur-mirror]
Настройка UFW (Uncomplicated Firewall):
* kcm-ufwAUR
Настройка PolicyKit:
* kcm-polkit-kde-gitAUR
Настройки планшетов Wacom:
* kcm-wacomtabletAUR
Множество модулей KCM вы также найдете на kde-apps.org.
Автоматический вход в систему
Перейдите в System Settings > System Administration > Login Screen > Convenience, установите флажок Enable Auto-Login и выберите пользователя для входа.
Быстрый поиск и семантический рабочий стол
Из Википедии:
"Семантический рабочий стол (в информатике) — обобщенный термин, обозначающий идеи, связанные с изменением компьютерных пользовательских интерфейсов и возможностей управления данными так, что обмен ими между различными приложениями или задачами упрощается, и невозможная ранее автоматическая обработка данных одним компьютером становится возможной. Сюда также включаются некоторые идеи о возможности автоматического обмена информацией между людьми. Эта концепция связана с семантической паутиной, но отличается тем, что основной интерес представляет персональное использование информации."
Реализация этой концепции в KDE (начиная с KDE Applications 4.13) связана с двумя основными проектами: Akonadi и Baloo. Эти программы анализируют ваши данные и индексируют их, позволяя легко и быстро производить по ним поиск. Суть в том, что другие программы могут использовать этот индекс и связанные с ним метаданные о ваших файлах для более эффективной работы. Baloo использует Xapian для хранения данных.
Baloo
Настройка и использование Baloo
Нажмите ALT+F2 для поиска на рабочем столе при помощи Baloo. В Dophin используйте комбинацию CTRL+F.
По умолчанию, модуль настройки Desktop Search предоставляет вам только возможность добавлять каталоги в список исключенных для индексирования, и возможность глобально включать и отключать индексирование. Более полный модуль настройки доступен с пакетом kcm_baloo_advancedAUR[ссылка недействительна: сохранено в aur-mirror].
Также вы можете вручную отредактировать настройки в файле ~/.kde4/share/config/baloofilerc. Например, для отключения Baloo добавьте:
[Basic Settings]
Indexing-Enabled=false
После добавления каталогов в список исключения/выключения Baloo, будет запущен специальный процесс baloo_file_cleaner, который удалит ненужные более файлы индекса из ~/.local/share/baloo/.
Как проиндексировать съемное устройство?
По умолчанию, каталоги съемных устройств автоматически исключаются из индекса. Вам необходимо лишь удалить устройство из списка исключения в панели Desktop Search.
Akonadi
Akonadi представляет собой хранилище данных для всех PIM-приложений. Сюда входят электронная почта, контакты, календари, события, журналы, личное расписание, будильник, новости и т. п.
Выключение Akonadi
Смотрите раздел Disabling the Akonadi subsystem в базе знаний KDE.
Настройка базы данных
Запустите akonaditray (предоставляемый пакетом kdepim-runtime). В системном трее появится значок Akonadi. В контекстном меню выберите Configure. Во вкладке Akonadi server configure вы можете:
* Настроить Akonadi для использования СУБД MySQL/MariaDB:
* Если ваш домашний каталог находится в пуле ZFS, создайте файл ~/.config/akonadi/mysql-local.conf со следующим содержимым:
[mysqld]
innodb_use_native_aio = 0
иначе вы будете получать ошибку 22.
* Настроить Akonadi для использования СУБД PostgreSQL
* Настроить Akonadi для использования СУБД SQLite:
* Отредактируйте файл ~/.config/akonadi/akonadiserverrc следующим образом:
[General]
Driver=QSQLITE3
[QSQLITE3]
Name=/home/username/.local/akonadi/akonadi.db
Использование KDE без Akonadi
Вы можете установить пакет-заглушку akonadi-fakeAUR[ссылка недействительна: package not found], который заменит собой akonadi.
Phonon
Из Википедии:
"Phonon — мультимедийный фреймворк для KDE4, который предоставляет API для разработки мультимедиа-приложений. Phonon использует набор расширяемых модулей, выполняющих реальную работу."
Phonon широко используется в среде KDE, как для аудио (например, для системных уведомлений), так и для видео (например, для видео-миниатюр в Dolphin).
Какой бекэнд использовать?
На ваш выбор предоставляются различные бекэнды: GStreamer (phonon-gstreamer[ссылка недействительна: package not found]) и VLC (phonon-qt4-vlc, phonon-qt5-vlc), доступные в официальных репозиториях; MPlayer (phonon-qt4-mplayer-gitAUR[ссылка недействительна: сохранено в aur-mirror]), QuickTime (phonon-quicktime-gitAUR[ссылка недействительна: сохранено в aur-mirror]) и AVKode (phonon-avkode-gitAUR[ссылка недействительна: сохранено в aur-mirror]), доступные в AUR.
Большинство пользователей предпочитают VLC, который поддерживается лучше всего. GStreamer в настоящий момент поддерживается слабее. Вы можете установить несколько бекэндов и выбирать нужный в System Settings > Multimedia > Phonon > Backend.
Примечание:
* Как указано на странице Feature Matrix, бекэнд GStreamer имеет больше возможностей, чем бекэнд VLC.
* Как указано на странице KDE UserBase, Phonon-MPlayer в настоящий момент не поддерживается.
Полезные приложения
Официальный набор приложений KDE доступен на странице http://www.kde.org/applications/.
Yakuake
Yakuake предоставляет выпадающий сверху терминал в стиле консоли из игры Quake. Доступен в официальных репозиториях с пакетом yakuake.
KDE Telepathy
KDE Telepathy — проект, направленный на обеспечение лучшей интеграции обмена мгновенными сообщениями с рабочим столом KDE, пришедший на смену Kopete. Использует фреймворк Telepathy в качестве бэкенда.
Чтобы установить все протоколы Telepathy, установите группу telepathy. Клиент Telepathy доступен с пакетом kde-telepathy-meta[ссылка недействительна: package not found], который также включает в себя все из группы kde-telepathy[ссылка недействительна: package not found].
Советы и рекомендации
Использование альтернативного оконного менеджера с KDE
Для использования альтернативного оконного менеджера с KDE, откройте панель System Settings, перейдите в Default Applications > Window Manager > Use a different window manager и выберите желаемый оконный менеджер из списка.
Сеанс KDE/Openbox
Пакет openbox предоставляет сеанс для использования KDE с Openbox. Чтобы ее использовать, выберите KDE/Openbox из меню оконного менеджера.
Если вы запускаете сеансы вручную, добавьте следующую строку в ваш файл .xinitrc:
exec openbox-kde-session
Compiz custom
Если вы хотите задать какие-нибудь опции при запуске Compiz, выберите пункт Compiz custom из списка оконных менеджеров и создайте скрипт compiz-kde-launcher, который будет запускать Compiz с нужными опциями:
/usr/local/bin/compiz-kde-launcher
#!/bin/bash

LIBGL_ALWAYS_INDIRECT=1
compiz --replace &
wait
Не забудьте сделать его исполняемым:
$ chmod +x /usr/local/bin/compiz-kde-launcher
Включение композитных эффектов
Если новый оконный менеджер не предоставляет композитный буфер (например, Openbox), все композитные эффекты рабочего стола (прозрачность и т. п.) пропадут. В этом случае, запустите и установите отдельный композитный менеджер, например, Xcompmgr или Compton.
Интеграция Android в рабочий стол KDE
Установите kdeconnect и приложение KDE Connect из Play Store (или F-Droid) для интеграции Android в KDE.
Получение уведомлений о выходе обновлений ПО
Установите apper для получения уведомлений об обновлениях пакетов. Также он предоставляет простой графический интерфейс для управления пакетами. Подробнее смотрите на веб-сайте PackageKit.
Настройка KWin для использования OpenGL ES
Начиная с KWin 4.8 вы можете использовать отдельный исполняемый файл kwin_gles вместо kwin. Он работает точно так же, как и kwin в режиме OpenGL2, с тем отличием, что вместо glx используется интерфейс egl. Для проверки просто наберите kwin_gles --replace в терминале. Если вы хотите постоянно использовать kwin_gles, создайте скрипт в $(kde4-config --localprefix)/env/, который будет устанавливать переменную окружения KDEWM=kwin_gles.
Отображение миниатюр для аудио- и видеофайлов в Konqueror/Dolphin
Для отображения миниатюр файлов видео установите kdemultimedia-mplayerthumbs[ссылка недействительна: package not found] или kdemultimedia-ffmpegthumbs[ссылка недействительна: replaced by ffmpegthumbs] и включите миниатюры в Settings > Configure Konqueror > General > Previews > Video Files.
Для отображения миниатюр аудиофайлов в Konqueror и Dolphin установите audiothumbsAUR[ссылка недействительна: сохранено в aur-mirror] из AUR.
Ускорение запуска приложений
Вы можете ускорить запуск приложений на 50-150 мсек, создав каталог:
$ mkdir ~/.compose-cache/
Однако, это может вызывать подвисания на медленном диске. Сделайте лучше так:
$ ln -sfv /run/user/$UID/ /home/$USER/.compose-cache
Источник: http://kdemonkey.blogspot.nl/2008/04/magic-trick.html.
Скрытие разделов
В Dolphin просто вызовите контекстное меню для раздела, который вы хотите скрыть (на панели Places) и выберите Hide <partition>.
Также вы можете создать для этого правило udev:
/etc/udev/rules.d/10-local.rules
KERNEL=="sda[0-9]", ENV{UDISKS_IGNORE}="1"
Или, для конкретных разделов:
KERNEL=="sda1", ENV{UDISKS_IGNORE}="1"
KERNEL=="sda2", ENV{UDISKS_IGNORE}="1"
Konqueror
Отключение Access Keys
Когда вы нажимаете Ctrl во время просмотра веб-страниц в браузере, над каждой активной областью (ссылкой) на странице появляются небольшие подсказки с буквами, благодаря которым вы можете перейти по соответствующей ссылке без использования мыши.
Для отключения Access Keys, перейдите в Settings > Configure Konqueror > Web Browsing и снимите флажок Enable Access Key activation with Ctrl key.
Использование WebKit
WebKit — веб-движок с открытым исходным кодом, разрабатываемый корпорацией Apple на основе таких библиотек, как KHTML и KJS. WebKit используется Safari, Google Chrome и rekonq.
Вы можете использовать WebKit в Konqueror вместо KHTML. Первым делом установите пакет kwebkitpart[ссылка недействительна: package not found]. Затем, после запуска Konqueror, перейдите в Settings > Configure Konqueror > General > Default web browser engine и выберите WebKit.
Интеграция Firefox в KDE
Смотрите Firefox#KDE integration[broken link: invalid section].
Установка фона для экрана блокировки
В настоящий момент вы не можете установить собственное изображение для экрана блокировки, однако, существует решение из списка рассылки OpenSUSE: http://lists.opensuse.org/opensuse-kde/2013-02/msg00082.html
Для этого следует отредактировать файл /usr/share/kde4/apps/ksmserver/screenlocker/org.kde.passworddialog/contents/ui/main.qml, заменив строку
source: theme.wallpaperPathForSize(parent.width, parent.height)
на что-нибудь вроде
source: "1920x1080.jpg"
Теперь остается просто поместить свое изображение 1920x1080.jpg в каталог /usr/share/kde4/apps/ksmserver/screenlocker/org.kde.passworddialog/contents/ui.
Примечание: Вам придется выполнять эти действия заново при каждом обновлении kdebase-workspaceAUR.
Еще один способ установки фона для экрана блокировки
Возьмите за основу существующий профиль обоев, скопировав его в пользовательский каталог:
$ cp -r /usr/share/wallpapers/существующий_профиль ~/.kde4/share/wallpapers/
Переименуйте его, как вам нравится — например, в MyWallpaper, и отдерактируйте metadata.desktop:
~/.kde4/share/wallpapers/MyWallpaper/metadata.desktop
[Desktop Entry]
Name=MyWallpaper
X-KDE-PluginInfo-Name=MyWallpaper
Удалите из каталога существующие изображения:
$ rm ~/.kde4/share/wallpapers/MyWallpaper/contents/screenshot.png
$ rm ~/.kde4/share/wallpapers/MyWallpaper/contents/images/*
Добавьте свое изображение:
$ cp путь/до/изображения.jpg ~/.kde4/share/wallpapers/MyWallpaper/contents/images/1920x1080.jpg
Соответственно, вместо 1920x1080 следует указать его фактическое разрешение.
Отредактируйте файл metadata.desktop вашей текущей темы:
~/.kde4/share/apps/desktoptheme/MyTheme/metadata.desktop
[Wallpaper]
defaultWallpaperTheme=MyWallpaper
defaultFileSuffix=.jpg
defaultWidth=1920
defaultHeight=1080
Сохраните файл и заблокируйте экран для проверки.
Примечание: Этот метод позволяет изменить фон экрана блокировки без внесения изменений на системном уровне. Вы также можете создать свой профиль обоев в системном каталоге /usr/share/wallpapers и точно так же отредактировать исходные файлы вашей темы в /usr/share/apps/desktoptheme.
Изменение фона экрана приветствия при запуске (Plasma 5)
Если изменение фона экрана приветствия в System Settings невозможно (не работает):
$ themedir=`cat ~/.config/ksplashrc | grep 'Theme=' | sed 's/Theme=//g'`
$ sudo mv /usr/share/plasma/look-and-feel/$themedir/contents/splash/images/background.png /usr/share/plasma/look-and-feel/$themedir/contents/splash/images/background.png.bkp
$ sudo cp path/to/MyWallpaper.png /usr/share/plasma/look-and-feel/$themedir/contents/splash/images/background.png
$ sudo chmod -x /usr/share/plasma/look-and-feel/$themedir/contents/splash/images/background.png
Поменяйте path/to/MyWallpaper.png на путь до желаемого изображения. В идеале, оно должно иметь размер, совпадающий с разрешением вашего экрана.
Примечание: Вам придется выполнять эти действия заново при каждом обновлении.
Решение проблем
Отсутствие иконок в трее (KDE5)
В KDE5 по умолчанию в трее отображаются иконки только от стандартных приложений. Другие же приложения (например Skype) в трее не отображаются. Для решения этой проблемы требуется установить следущие пакеты: sni-qt и lib32-sni-qtAUR. После этого перезагрузите компьютер.
Проблемы с настройками
Множество проблем в KDE возникают из-за ошибок в файлах настроек. Одним из способов решать такие проблемы — сбрасывать настройки KDE целиком.
Полный сброс настроек KDE
Чтобы проверить, вызвана ли проблема ошибками в настройках, выйдите из сеанса KDE, войдите в терминал и наберите
$ cp -r ~/.kde4 ~/.kde4.safekeeping
$ rm ~/.kde4/{cache,socket,tmp}-$(hostname)
Команда rm в данном случае просто удалит символические ссылки, которые потом пересоздадутся автоматически. Войдите теперь в сеанс KDE и проверьте, решилась ли проблема.
Если это так, вы теперь можете переместить группами сохраненные в ~/.kde4.safekeeping файлы настроек обратно, постоянно проверяя, не возникли ли проблемы снова. Некоторые файлы используются только приложениями, поэтому вам даже не придется перезапускать KDE для проверки.
Странное поведение рабочего стола Plasma
Проблемы в Plasma обычно вызываются нестабильными плазмоидами или темами Plasma. Первым делом найдите, какие из последних плазмоидов или тем вы устанавливали и попробуйте их отключить/удалить. Если вы не помните, какие из них вы устанавливали последними, попробуйте исключать все по одному.
Если вы не смогли обнаружить проблему, попробуйте сбросить настройки Plasma:
$ mkdir ~/.plasma-config-backup
$ mv -r ~/.kde4/share/config/plasma* ~/.plasma-config-backup
и перезайдите в систему.
Очистка кэша для решения проблем с обновлением
После обновления устаревшие данные в кэше могут вызывать странное, мало предсказуемое и трудное в отладке поведение рабочего стола или программ KDE.
Попробуйте перестроить кэш с помощью команд:
$ rm ~/.config/Trolltech.conf
$ kbuildsycoca4 --noincremental
Сброс настроек Akonadi для решения проблем с KMail
Первым делом убедитесь, что KMail не запущен. Сохраните настройки Akonadi:
$ cp ~/.local/share/akonadi ~/.local/share/akonadi-old
$ cp ~/.config/akonadi ~/.config/akonadi-old
Откройте SystemSettings > Personal и удалите все ресурсы. Вернитесь в терминал и удалите исходные файлы настроек:
$ rm ~/.local/share/akonadi ~/.config/akonadi
Снова вернитесь к SystemSettings и внимательно добавьте все необходимые ресурсы. Сохраните настройки и запустите Kontact/KMail чтобы убедиться, что теперь все работает корректно.
Текущее состояние KWin для поддержки и отладки
Эта команда выведет полную сводку о текущем состоянии KWin включая ваши настройки, данные о композитном бэкенде и драйвере OpenGL:
$ qdbus org.kde.kwin /KWin supportInformation
Подробнее смотрите на странице http://blog.martin-graesslin.com/blog/2012/03/on-getting-help-for-kwin-and-helping-kwin.
KDE4 зависает на этапе загрузки
Возможна ситуация, при которой драйвер видеокарты NVIDIA вызывает конфликт во время запуска KDE4. После входа в систему вы видете только экран загрузки и ничего больше не происходит.
Решение заключается в отключении композитного режима:
~/.kde4/share/config/kwinrc
[Compositing]
Enabled=false
Подробнее смотрите на странице https://bbs.archlinux.org/viewtopic.php?pid=932598.
Программы KDE выглядят плохо в другом оконном менеджере
Если вы используете программы Qt вне сеанса KDE (то есть, вы не запускаете startkde), вам необходимо явно указать Qt, где находятся стили KDE (Oxygen, QtCurve и т. д.).
Для этого установите переменную окружения QT_PLUGIN_PATH, добавив в ваш файл инициализации командной оболочки (~/.profile) строку:
export QT_PLUGIN_PATH=$HOME/.kde4/lib/kde4/plugins/:/usr/lib/kde4/plugins/
Перезайдите в систему. Теперь все должно быть впорядке.
Также вы можете создать символическую ссылку на стили KDE в каталоге Qt:
# ln -s /usr/lib/kde4/plugins/styles/ /usr/lib/qt4/pluginlib32-libdbusmenu-glibs/styles
В GNOME вы также можете попробовать установить пакет libgnomeuiAUR.
Проблемы с графикой
Низкая производительность или артефакты изображения в режиме 2D
Проблема с драйвером видеокарты
Убедитесь, что установлен подходящий драйвер для вашей видеокарты, для того, чтобы как минимум режим 2D использовал ее ресурсы для ускорения. Подробнее смотрите на страницах ATI, NVIDIA, Intel.
Открытые драйверы ATI и Intel и проприетарный драйвер Nvidia должны (теоретически) обеспечить вам наилучшее ускорение как в режиме 2D, так и в 3D.
Использование альтернативного рендера
Если установка правильного драйвера не решила вашу проблему, вероятно, ваш драйвер не предоставляет ускорения XRender, который используется как рендер в Qt.
Вы можете выбрать другой рендер — например, Raster, запустив приложение Qt с опцией -graphicssystem raster. Вы можете установить другой рендер по умолчанию, пересобрав ваш Qt с той же опцией (-graphicssystem raster) configure.
Рендер Raster использует процессор компьютера для выполнения большей части отрисовки. В зависимости от вашей системы, это может улучшить производительность. Поэтому используйте Raster, только если у вас возникают проблемы или ваша графическая подсистема значительно менее производительна, чем центральный процессор; в ином случае, рекомендуется использовать XRender.
Начиная с Qt 4.7, пересборка Qt не обязательна. Установите переменную окружения QT_GRAPHICSSYSTEM=raster; также возможны значения opengl и native. Raster использует процессор CPU, OpenGL полагается на драйвер видеокарты, а Native использует отрисовку средствами X11 (смешанный подход).
Вы также можете просто установить kcm-qt-graphicssystemAUR из AUR и выбрать рендер на панели System Settings > Qt Graphics System.
Подробности смотрите на страницах http://apachelog.wordpress.com/2010/09/05/qt-graphics-system-kcm и http://labs.trolltech.com/blogs/2009/12/18/qt-graphics-and-performance-the-raster-engine.
Низкая производительность в режиме 3D
По умолчанию эффекты рабочего стола включены. Старые видеокарты могут не давать приемлемую производительность рабочего стола в режиме 3D. В таком случае, отключите эффекты рабочего стола в System Settings > Desktop Effects.
Примечание: Вы можете наблюдать недостаточную производительность рабочего стола в режиме 3D даже при использовании более современной видеокарты, особенно с проприетарным драйвером Catalyst (fglrx). Этот драйвер известен своими проблемами с ускорением 3D. Обратитесь за помощью на страницу ATI.
Композитные эффекты не работают с современной видеокартой Nvidia
Содержимое файла настроек KWin может портиться (файл kwinrc), что, в свою очередь, может приводить к проблеме повторного включения композитного режима OpenGL. Это может происходить случайно (например, из-за падения/перезапуска сервера X), поэтому, если подобное произошло, просто удалите файл ~/.kde4/share/config/kwinrc и перезайдите в систему. Будет создан файл со стандартными настройками и проблема должна решиться.
Мерцание окон в полноэкранном режиме при включенном композитном режиме
С версии KDE SC 4.6.0 на панели Sytem Settings > Desktop Effect > Advanced добавлен флажок Suspend desktop effects for fullscreen windows. Снимите его и проблема должна решиться.
Screen tearing при включенном композитном режиме
Screen tearing представляет собой неисправность, при которой вы видите на экране не перерисованный полностью кадр. Это проявляется в возникновении видимых горизонтальных границ между старым изображением и новым, которые мерцают по всему экрану при активной перерисовке изображения (например, во время воспроизведения анимации или видео).
Примечание: С версии KDE 4.11, было добавлено несколько опций вертикальной синхронизации (Vsync), что может помочь в решении проблемы.
Вы можете наблюдать Screen tearing при воспроизведении композитных эффектов рабочего стола. Снимите флажок Use Vsync на панели System Settings > Desktop Effects > Advanced.
Если вы используете проприетарный драйвер, убедитесь, что вертикальная синхронизация включена в вашем драйвере (используйте ic|amdccle, если у вас Catalyst, и nvidia-settings для NVIDIA).
Параметры экрана сбрасываются при перезагрузке (несколько мониторов)
Установка kscreen может решить проблему, но если только ваши мониторы не имеют одинаковый EDID. Kscreen представляет собой улучшенный менеджер дисплеев для KDE; подробнее смотрите на странице https://fedoraproject.org/wiki/Changes/KScreen?rd=Features/KScreen.
Проблемы со звуком в KDE
ALSA related problems
Примечание: Первым делом убедитесь, что у вас установлены пакеты alsa-lib alsa-utils.
Сообщения "Falling back to default" при попытке воcпроизвести любой звук
Если появляются сообщения наподобие:
The audio playback device имя_устройства does not work.
Falling back to default
Перейдите в System Settings > Multimedia > Phonon и переместите устройство default наверх списка.
MP3-файлы не воспроизводятся с бэкендом GStreamer
Эту проблему можно решить, установив плагин libav (пакет gst-libav) для GStreamer. Если вы все еще испытываете проблемы, вы можете попробовать другой бэкенд Phonon, например phonon-vlc[ссылка недействительна: package not found].
После установки перейдите в System Settings > Multimedia > Phonon > Backend и выберите новый бэкенд.
Konsole не сохраняет историю команд
По умолчанию, история команд сохраняется только если вы выходите, набрав exit в консоли. Если вы просто закрываете окно Konsole, история сохранена не будет. Чтобы включить сохранение истории после ввода каждой команды, добавьте следующие строки в файл инициализации вашей командной оболочки:
~/.bashrc
shopt -s histappend
[[ "${PROMPT_COMMAND}" ]] && PROMPT_COMMAND="$PROMPT_COMMAND;history -a" || PROMPT_COMMAND="history -a"
В поле ввода пароля отображается по три точки на символ
Это настраивается в System Settings > Account Details > Password & User Account. Вы можете выбрать из следующих вариантов:
* Показывать одну точку на каждый символ
* Показывать три точки на каждый символ
* Ничего не показывать
Dolphin и File Dialogs очень долго запускаются
Это может быть вызвано службой upower. Если эта служба не нужна в вашей системе, отключите ее:
# systemctl disable upower
# systemctl mask upower
Средство просмотра PDF по умолчанию для приложений GTK в KDE
В некоторых случаях, если установлен графический редактор (Inkscape, GIMP и т. д.), приложения GTK (Firefox, например) могут перестать использовать Okular в качестве средства просмотра PDF по умолчанию (или, в общем случае, вообще перестают следовать выбору программ по умолчанию в KDE). Вы можете использовать следующую команду для того, чтобы снова заставить приложения GTK использовать Okular:
$ xdg-mime default kde4-okularApplication_pdf.desktop application/pdf
Измените команду соответствующим образом, если вы используете другое средство просмотра PDF или у вас проблемы с другим MIME-типом.
Подробнее смотрите на странице Default applications.
Нестабильные версии
Когда версии KDE присваивается статус бета-релиза или RC-релиза, соответствующие "нестабильные" пакеты KDE выгружаются в репозиторий kde-unstable. Они находятся там, пока версия не будет признана стабильной — тогда эти пакеты переносятся в репозиторий extra.
Вы можете включить у себя репозиторий kde-unstable, добавив следующие строки в /etc/pacman.conf:
[kde-unstable]
Include = /etc/pacman.d/mirrorlist
перед секцией [extra].
Важно: Если вы добавите kde-unstable после extra, это не даст никакого эффекта: pacman будет предпочитать стабильные пакеты из extra.
Другие проекты KDE
Trinity
С выходом KDE 4.x была прекращена поддержка версий KDE 3.5.x. Trinity Desktop Environment — форк KDE 3, разрабатываемый Тимоти Пирсоном (trinitydesktop.org). Этот проект направлен на создание стабильного рабочего окружения с сохранением стиля KDE 3.5 (за основу взята версия KDE 3.5.10). Подробнее смотрите на странице Trinity.
Важно: KDE 3 больше не поддерживается. Проект "Trinity KDE" поддерживается сообществом Trinity. Используйте KDE 3 на свой страх и риск, принимая возможность столкнуться с ошибками в программах, проблемами с производительностью и безопасностью.
    
    
    
    
    
    
    
