SDDM (Русский)
Ссылки по теме
* Экранный менеджер
* KDE (Русский)
Эта страница нуждается в сопроводителе
Статья не гарантирует актуальность информации. Помогите русскоязычному сообществу поддержкой подобных страниц. См. Команда переводчиков ArchWiki
Состояние перевода: На этой странице представлен перевод статьи SDDM. Дата последней синхронизации: 2015-06-29. Вы можете помочь синхронизировать перевод, если в английской версии произошли изменения.
SDDM (простой десктопный экранный менеджер) - это экранный менеджер для KDE Plasma desktop. Из английской Википедии:
Simple Desktop Display Manager (SDDM) - это дисплейный менеджер (программа для графического логин скрина) для X11. SDDM был написан с нуля на языке C++11 и поддерживает установку тем через QML. SDDM является заменой устаревшему KDE Display Manager и интегрируется в KDE Frameworks 5, KDE Plasma 5 и KDE Applications 5.
Contents
 [hide] 
* 1Установка
* 2Настройка
o 2.1Автоматический вход в систему
o 2.2Настройки темы
* 2.2.1Главная тема
* 2.2.2Редактирование тем
* 2.2.3Курсор мыши
* 2.2.4Изменение вашего аватара
o 2.3Numlock
o 2.4Настройка GUI
* 3Решение проблем
o 3.1Зависания после входа
o 3.2Не работают эффекты рабочего стола в KDE Plasma
o 3.3SDDM запускается на tty1, а не на tty7
o 3.4Один или более пользователей не отображаются на экране приветствия
o 3.5SDDM грузит только US раскладку клавиатуры
Установка
Установите пакет sddm.
Теперь следуйте инструкциям из раздела Экранный менеджер#Запуск экранного менеджера, чтобы запускать SDDM при загрузке.
Настройка
Настройки SDDM хранятся в файле /etc/sddm.conf. Для получения полного списка настроек смотрите страницу справочного руководства sddm.conf(5).
На системах с systemd всё должно работать из коробки, так как для управления сессиями SDDM по умолчанию использует systemd-logind. Поэтому при установке пакета конфигурационный файл не создаётся. Однако SDDM предоставляет команду для генерации примера конфигурационного файла с настройками по умолчанию для тех, кому это может понадобиться:
# sddm --example-config > /etc/sddm.conf
Автоматический вход в систему
SDDM поддерживает автовход. Для этого настройте конфигурационный файл, например, так:
/etc/sddm.conf
[Autologin]
User=john
Session=plasma.desktop
Если в папке /usr/share/xsessions/ Вместо plasma.desktop есть файл kde-plasma.desktop напишите
/etc/sddm.conf
[Autologin]
User=john
Session=kde-plasma.desktop
С этой конфигурацией при загрузке системы будет происходить автовход в сессию KDE Plasma для пользователя john. Доступные типы сессий можно посмотреть в каталоге /usr/share/xsessions/.
Важно: При неправильной настройке автоматический вход сделает взлом вашего ноутбука элементарным для того, кто имеет к нему физический доступ. Включайте автовход только если у вас активирован другой способ аутентификации, например, пароль для расшифровки файловой системы.
Если включить автовход в KDE Plasma, то исчезнет возможность блокировки сессии (по крайней мере в данный момент это так).
Вы можете добавить маленький скрипт, который активирует скринсейвер KDE при автозапуске в качестве обходного пути:
#!/bin/bash                                                                                                                                                         
/usr/bin/qdbus-qt4 org.kde.screensaver /ScreenSaver SetActive true &
exit 0
Настройки темы
Настройки темы могут быть изменены в секции [Theme].
Некоторые темы доступны в AUR, например archlinux-themes-sddmAUR.
Главная тема
Установите главную тему с помощью значения Current, например Current=archlinux-simplyblack.
Редактирование тем
Каталогом тем для SDDM по умолчанию является /usr/share/sddm/themes/. Вы можете добавить свои собственные темы в подкаталог этого каталога. Изучите установленные файлы для их изменения или создания собственной темы.
Курсор мыши
Чтобы задать тему для курсора мыши, установите CursorTheme на предпочитаемую вами тему курсоров.
Изменение вашего аватара
Вы можете просто положить png изображение с названием username.face.icon в директорию по умолчанию /usr/share/sddm/faces/. В качестве альтернативы, вы можете изменить директорию по умолчанию в соответствии с вашими желаниями, например, FacesDir=/var/lib/AccountsService/icons/.
Numlock
Если вы хотите, чтобы Numlock автоматически включался, пропишите Numlock=on в секции [General].
Настройка GUI
* Системные настройки KDE Frameworks содержат конфигурационный модуль для SDDM. Установите пакет sddm-kcm, чтобы использовать его.
* В AUR есть sddm-config-editor-gitAUR, основанный на Qt.
Решение проблем
Зависания после входа
Попробуйте удалить ~/.Xauthority.
Не работают эффекты рабочего стола в KDE Plasma
Когда я сменил KDM на SDDM и залогинился в KDE Plasma 4, исчезли эффекты рабочего стола, и их невозможно было включить. Оказалось, что SDDM по ошибке запускал KDE Plasma в безопасном режиме. Если вы не можете включить эффекты рабочего стола, завершите сеанс и проверьте на экране SDDM, что в списке выбрана нужная сессия, после чего снова войдите в систему.
SDDM запускается на tty1, а не на tty7
SDDM следует конвенции systemd, в которой первую графическую сессию запускают на tty1. Если вы предпочитаете старую конвенцию, в которой телетайпы с первого по шестой зарезервированы для текстовых консолей, добавьте следующее в ваш sddm.conf:
/etc/sddm.conf
[XDisplay]
MinimumVT=7
Один или более пользователей не отображаются на экране приветствия
По умолчанию SDDM отображает только тех пользователей, у которых UID находится в пределах от 1000 до 65000, если UID нужных вам пользователей ниже, чем это значение, то вам нужно будет изменить этот диапазон. Модифицируйте ваш sddm.conf следующим образом (например, для пользователя с UID равным 501):
/etc/sddm.conf
[Users]
HideShells=/sbin/nologin,/bin/false
# Скрытые пользователи, это для того, если какие-либо системные пользователи попадают в ваш диапазон, смотрите /etc/passwd на вашей системе.
HideUsers=git,sddm,systemd-journal-remote,systemd-journal-upload

# Максимальный user id для отображаемых пользователей
MaximumUid=65000

# Минимальный user id для отображаемых пользователей
MinimumUid=500 #Мой UID равен 501
SDDM грузит только US раскладку клавиатуры
SDDM грузит раскладку клавиатуры, заданную в /etc/X11/xorg.conf.d/00-keyboard.conf. Вы можете сгенерировать этот конфигурационный файл командой localectl set-x11-keymap. Прочтите Keyboard configuration in Xorg для дополнительной информации.
    
    
    
    
    
    
    
